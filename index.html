<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Matatat.org</title>
  <meta name="author" content="Mat Leonard">




  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="/favicon.png" rel="icon">

  <link href="/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="/">Matatat.org</a></h1>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>


<ul class="main-navigation">
    <li><a href="/archives.html">Archives</a></li>
      <li><a href="/pages/about.html">About</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div class="blog-index">
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/yelp-timelines.html">Yelp Rating Timelines</a>
      </h1>
    <p class="meta">
<time datetime="2016-01-31T13:53:00-08:00" pubdate>Jan 31, 2016</time>    </p>
</header>

  <div class="entry-content"><p>For a while I've been thinking about Yelp reviews, in particular about the information lost by distilling the reviews down to one number. It isn't clear how this number, the average rating, is calculated either. Is it an average over all time? Is it only considering the last month? Or, is it weighted such that more recent reviews have a larger effect on the average?</p>
<p>A lot of the information lost is in the time domain, the change in time of a business' ratings. Presumably, a change in ownership or management could result in a change in the quality of a business, positively or negatively. Also, a business that just opened might get poor reviews but over time improves through addressing feedback or from the staff gaining more experience. These sort of changes should be present in user reviews on Yelp. I'd like to find a way to see these changes to get a better sense of the quality of a business.</p>
<p>First, we'll need to grab a bunch of reviews from Yelp. Yelp provides an <a href="https://www.yelp.com/developers/documentation/v2/search_api">API for searching</a> and an API for <a href="https://www.yelp.com/developers/documentation/v2/business">requesting business data</a>. An API is an Application Programming Interface, basically a list of instructions for interfacting with Yelp's data. The way these work is similar to viewing a web page. When you point your browser to a website, you do it with a URL (http://www.yelp.com for instance). Yelp sends you back data containing HTML, CSS, and Javascript. Your browser uses this data to construct the page that you see. The API works similarly, you request data with a URL (http://api.yelp.com/stuff), but instead of getting HTML and such, you get data  formatted  as <a href="http://en.wikipedia.org/wiki/JSON">JSON</a>.</p>
<p>Using the APIs, we can search like you would on the website, but through Python code. We can also request data about businesses we find from searching. I'll get started by creating a function to perform API requests.</p>
</div>
  <footer>
    <a rel="full-article" href="/yelp-timelines.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/men-have-journals-women-have-diaries.html">Men have journals, women have diaries</a>
      </h1>
    <p class="meta">
<time datetime="2016-01-31T13:51:00-08:00" pubdate>Jan 31, 2016</time>    </p>
</header>

  <div class="entry-content"><p>Last night I found an old Moleskine notebook I had hidden under some papers on my desk. As I looked through it, there were a few pages of random projects I worked on once. Thinking of my girlfriend's recent nights spent writing in her diary, I decided to use ...</p></div>
  <footer>
    <a rel="full-article" href="/men-have-journals-women-have-diaries.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/p-values-statistical-testing.html">Hypothesis testing and the origin of p-values</a>
      </h1>
    <p class="meta">
<time datetime="2016-01-31T13:50:00-08:00" pubdate>Jan 31, 2016</time>    </p>
</header>

  <div class="entry-content"><p>Everytime we present results in science, we must also address our uncertainty. This is true any time a measurement is presented, such as in election polling, which why you see polls that report "56% of likely voters prefer candidate A <em>with a margin of 4 points</em>." A result without a statement of the uncertainty is basically meaningless.</p>
<p>There are two types of uncertainty we come across in experiments, systematic errors and random errors. A systematic error is uncertainty introduced by the experimental process. For instance, a measurement device could be miscalibrated, or there could be a <a href="http://newsfeed.time.com/2012/02/22/einstein-was-right-all-along-faster-than-light-neutrino-was-product-of-error/">loose cable</a> that results in faster than light neutrinos. You can also introduce systematic errors through the model you choose. Often, you won't be able to account for every factor affecting your measurements and this will introduce uncertainty in the results.</p>
<p>Random errors are due to fluctuations in the measurement. The uncertainty from random errors can be reduced by repeating the experiment. This type of uncertainty can be quantified by statistical analysis, unlike systematic errors.</p>
<p>Many experiments, especially in life sciences, report uncertainty using hypothesis testing. Hypothesis testing compares experimental results with the <em>null hypothesis</em> that the results don't exist. This is done because we know that due to random errors, we might see a large experimental result, even if no true effect exists. </p>
<p>For instance, if you are testing a pharmaceutical drug, you typically have a control (placebo) group and a treatment group. You find that the drug has some effect - it lowers cholesterol in the treatment group, maybe - and then you ask, "What is the probability I would see this effect due to random fluctuations if there was actually no effect?" Here the null hypothesis is that the two groups have equal means, <span class="math">\(\mu_c = \mu_t\)</span>. The analysis of this question leads to a <em>p-value</em>, the probability you would see an equal or greater effect under the null hypothesis. When the p-value is below some critical value, typically <span class="math">\(p &lt; 0.05\)</span>, then the result is declared statistically significant and the null hypothesis is rejected. The p-value is at the heart of a massive controversy occuring in science currently, to the point where some journals are <a href="http://www.tandfonline.com/doi/pdf/10.1080/01973533.2015.1012991">banning hypothesis testing</a> completely.</p>
<p>I will offer my opinions about p-values later, but for now, I want to discuss where the p-value comes from and how it is calculated. Partially I'm doing this because I've seen few places online that explain how it is calculated, mostly because it is somehow <a href="https://en.wikipedia.org/wiki/P-value#Calculation">too complicated</a>, which as you will see, is not true. These days, most statistical testing is done with software packages like R with methods that are basically black boxes. You put your data in, out comes a p-value, then you either get to publish your results or collect more data. Here, I will try to dig into that black box and reveal what is happening.</p>
</div>
  <footer>
    <a rel="full-article" href="/p-values-statistical-testing.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/github-hosting-documentation.html">Hosting Sphinx documentation on GitHub</a>
      </h1>
    <p class="meta">
<time datetime="2016-01-31T13:48:00-08:00" pubdate>Jan 31, 2016</time>    </p>
</header>

  <div class="entry-content"><p>In my down time, I've been writing documentation for <a href="https://github.com/mcleonard/sampyl">Sampyl</a>, a necessary and sometimes fun task. I built the documentation with <a href="http://sphinx-doc.org/">Sphinx</a>, a very nice package that allows you to focus on the content. Then, I wanted to find somewhere to host the documentation online for free. My first attempt was with <a href="https://readthedocs.org/">Read the Docs</a>. After running into some problems with Read the Docs building my documentation, I tried hosting on GitHub. That didn't work immediately either, but after fixing the issues, I wanted to share my experiences as to guide others.</p>
</div>
  <footer>
    <a rel="full-article" href="/github-hosting-documentation.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/body-fat-percentage.html">Predicting body fat percentage</a>
      </h1>
    <p class="meta">
<time datetime="2016-01-31T13:46:00-08:00" pubdate>Jan 31, 2016</time>    </p>
</header>

  <div class="entry-content"><p>For the past few months, I've been commuting to work on my bicycle. I've always been a walker, but I've been out of shape and slowly gaining fat for some time now.  The new activity has led to some obvious weight loss. This has inspired me to keep working at it and track my progress. As part of this, I wanted to measure my percent body fat using tools I have around my apartment. You can find calculators out on the internet which give you a singular estimate. Being a scientist though, I want some knowledge of the uncertainty of the estimate. I decided to build my own model from data which I can use to get an estimate, with the uncertainty, of my body fat percentage.</p>
<p>I found <a href="http://www.amstat.org/publications/jse/v4n1/datasets.johnson.html">data from a study</a> which measured the body density and various anatomical measurements (such as neck and chest circumferences) of a group of men. From my research, I found that body density can be measured accurately using water or air displacement. However, it is unclear how to convert density into body fat percentage because you must assume a distribution of lean and fatty tissues. There are more than a few methods, but for this analysis I'm going to use <a href="http://www.ncbi.nlm.nih.gov/pubmed/14062375">Brozek's method</a>.</p>
<p>First we'll start by importing some packages we'll use and then import the data.</p>
</div>
  <footer>
    <a rel="full-article" href="/body-fat-percentage.html">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="/ab-testing-with-sampyl.html">A/B Testing with Sampyl</a>
      </h1>
    <p class="meta">
<time datetime="2016-01-31T01:18:00-08:00" pubdate>Jan 31, 2016</time>    </p>
</header>

  <div class="entry-content"><p>I've been working on building a Bayesian model to infer the firing rate of neurons over time. Python has a few packages available which use <a href="https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo">Markov Chain Monte Carlo</a> (MCMC) methods to sample from the posterior distribution of a Bayesian model. The one I'm most familiar with is ...</p></div>
  <footer>
    <a rel="full-article" href="/ab-testing-with-sampyl.html">Read On &crarr;</a>
  </footer>
  		</article>
<div class="pagination">

  <br />
</div></div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="/yelp-timelines.html">Yelp Rating Timelines</a>
      </li>
      <li class="post">
          <a href="/men-have-journals-women-have-diaries.html">Men have journals, women have diaries</a>
      </li>
      <li class="post">
          <a href="/p-values-statistical-testing.html">Hypothesis testing and the origin of p-values</a>
      </li>
      <li class="post">
          <a href="/github-hosting-documentation.html">Hosting Sphinx documentation on GitHub</a>
      </li>
      <li class="post">
          <a href="/body-fat-percentage.html">Predicting body fat percentage</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="/category/misc.html">misc</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="/tag/sampyl.html">Sampyl</a>,    <a href="/tag/python.html">Python</a>,    <a href="/tag/statistics.html">Statistics</a>,    <a href="/tag/data-science.html">Data Science</a>,    <a href="/tag/misc.html">Misc</a>,    <a href="/tag/documentation.html">Documentation</a>  </section>



</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2016  Mat Leonard &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="/theme/js/modernizr-2.0.js"></script>
  <script src="/theme/js/ender.js"></script>
  <script src="/theme/js/octopress.js" type="text/javascript"></script>
</body>
</html>